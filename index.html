<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MC SERVERS | THE BOSS ENGINE</title>

    <!-- Vercel Analytics (HTML iÃ§in doÄŸru kullanÄ±m) -->
    <script defer src="https://analytics.vercel.app/script.js" data-domain="SENIN-DOMAIN.vercel.app"></script>

    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Montserrat:wght@700;900&display=swap" rel="stylesheet">

    <style>
        :root { --mc-green:#5ea82d; --mc-dirt:#4b3621; --mc-stone:#313131; --neon:#00ff41; --bg:#0a0a0a; }
        * { box-sizing:border-box; transition:.2s; }
        body { margin:0; background:var(--bg); color:#fff; font-family:'Montserrat',sans-serif; }

        .music-panel{position:fixed;top:20px;right:20px;z-index:2000;background:#000;padding:10px;border-radius:30px;border:2px solid var(--mc-green)}
        .m-btn{background:var(--mc-green);border:none;padding:6px 15px;font-size:10px;font-weight:900;cursor:pointer}

        .hero{height:250px;background:linear-gradient(rgba(0,0,0,.5),var(--bg)),url('tema.jpg') center/cover;
            display:flex;flex-direction:column;align-items:center;justify-content:center;border-bottom:8px solid var(--mc-dirt)}
        .hero h1{font-family:'Press Start 2P';font-size:clamp(1.2rem,5vw,2.5rem)}
        .stats-sub{letter-spacing:10px;color:rgba(255,255,255,.2)}
        #search{margin-top:15px;width:70%;max-width:450px;background:#000;border:3px solid var(--mc-green);
            color:var(--neon);padding:10px;font-family:'Press Start 2P';font-size:10px}

        .nav-scroll{background:#111;padding:15px;display:flex;gap:8px;overflow-x:auto;position:sticky;top:0;z-index:1000}
        .nav-btn{background:#333;border:3px solid #000;color:#fff;padding:10px 18px;font-weight:900;cursor:pointer}
        .nav-btn.active{background:var(--mc-green);color:#000}

        .container{max-width:1300px;margin:20px auto;padding:0 20px}

        .card{
            background:var(--mc-stone);
            border:4px solid #000;
            display:grid;
            grid-template-columns:50px 70px 1fr 120px 160px;
            align-items:center;
            padding:15px;
            position:relative;
            overflow:hidden;
        }

        /* ðŸ”¥ BANNER KALÄ°TE FIX */
        .card-bg{
            position:absolute;
            inset:0;
            width:100%;
            height:100%;
            object-fit:contain;
            image-rendering:auto;
            opacity:.35;
            background:#000;
            pointer-events:none;
        }

        .card>*{z-index:1}
        .server-icon{width:64px;height:64px;border:3px solid #000;image-rendering:pixelated}
        .col-players{text-align:center;font-family:'Press Start 2P';font-size:14px;color:var(--mc-green)}
        .btn-copy{background:var(--mc-green);border:3px solid #000;padding:12px;font-weight:900;cursor:pointer}

        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.96);z-index:9999;align-items:center;justify-content:center}
        .modal.active{display:flex}
        .admin-box{background:var(--mc-stone);border:6px solid #000;padding:25px;width:100%;max-width:550px}
        .admin-input{width:100%;padding:12px;background:#000;border:3px solid var(--mc-dirt);color:#fff;margin-bottom:10px}
        .save-btn{width:100%;background:var(--mc-green);padding:15px;border:3px solid #000;font-weight:900;cursor:pointer}

        @media(max-width:900px){
            .card{grid-template-columns:1fr 1fr}
        }
    </style>
</head>
<body>

<audio id="bgm" loop></audio>
<div class="music-panel"><button class="m-btn" onclick="toggleMusic()" id="mBtn">PLAY AUDIO</button></div>

<header class="hero" id="mainHero">
    <h1>MC SERVERS</h1>
    <div class="stats-sub">STATS</div>
    <input id="search" placeholder="FIND A REALM..." onkeyup="resetAndRender()">
</header>

<nav class="nav-scroll" id="catNav"></nav>
<div class="container" id="grid"></div>

<div id="adminModal" class="modal">
<div class="admin-box">

<div id="loginArea">
<input type="password" id="adminPass" class="admin-input" placeholder="Password">
<button class="save-btn" onclick="login()">LOGIN</button>
</div>

<div id="actionArea" style="display:none">
<input type="file" id="edBannerFile" class="admin-input" accept="image/*,video/mp4">
<button class="save-btn" onclick="saveServer()">SAVE</button>
</div>

</div>
</div>

<div style="position:fixed;bottom:0;left:0;width:40px;height:40px" onclick="document.getElementById('adminModal').classList.add('active')"></div>

<script>
/* ðŸ” ADMIN (HASH + SESSION) */
const ADMIN_HASH="c2d9f6c3d6e8b6a5e7f2f6c7d0a0a9d2";

async function sha256(t){
 const e=new TextEncoder().encode(t);
 const h=await crypto.subtle.digest("SHA-256",e);
 return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

async function login(){
 const p=document.getElementById("adminPass").value;
 if(await sha256(p)===ADMIN_HASH){
   sessionStorage.setItem("admin","1");
   loginArea.style.display="none";
   actionArea.style.display="block";
 }else alert("ACCESS DENIED");
}

if(sessionStorage.getItem("admin")==="1"){
 loginArea.style.display="none";
 actionArea.style.display="block";
}

/* SERVER DATA */
let servers=JSON.parse(localStorage.getItem("mc_boss_v1"))||[];
let tempBanner="";

edBannerFile.onchange=e=>{
 const r=new FileReader();
 r.onload=()=>tempBanner=r.result;
 r.readAsDataURL(e.target.files[0]);
};

function saveServer(){
 servers.push({banner:tempBanner,online:0});
 localStorage.setItem("mc_boss_v1",JSON.stringify(servers));
 location.reload();
}

function render(){
 grid.innerHTML=servers.map(s=>`
 <div class="card">
 ${s.banner?.startsWith("data:video")
   ? `<video class="card-bg" autoplay muted loop playsinline src="${s.banner}"></video>`
   : `<img class="card-bg" src="${s.banner}">`}
 </div>`).join("");
}

function toggleMusic(){
 const a=bgm;
 a.paused?a.play():a.pause();
 mBtn.innerText=a.paused?"PLAY":"STOP";
}

function resetAndRender(){render()}
render();
</script>
</body>
</html>
